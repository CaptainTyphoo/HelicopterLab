\section{Optimal Control of Pitch/Travel and Elevation with and without Feedback}\label{sec:prob4}
In this part of the excersice a constraint on the elevation is added. Therefore the equation describing the dynamics of the elevation $e$ from \eqref{} must be added to the state space representation of the model of the helicopter
\begin{subequations}
	\begin{equation}
	\frac{\d\vec{x}}{\d t}=\vec{A}_c\vec{x}+\vec{B}_c\vec{u}
	\end{equation}
	with
	\begin{align}
	\vec{A}&=\begin{bmatrix}
    0 & 1 & 0 & 0 & 0 & 0\\ 
	0 & 0 & -K_2 & 0 & 0 & 0\\ 
	0 & 0 & 0 & 1 & 0 & 0\\ 
	0 & 0 & -K_1 K_{pp} & -K_1*K_{pd} & 0 & 0 \\
	0 & 0 & 0 & 0 & 0 & 1\\
	0 & 0 & 0 & 0 & -K_3*K_{ep} & -K_3*K_{ed}
	\end{bmatrix}\\
	\vec{B}&=\begin{bmatrix}
	0 & 0\\ 
	0 & 0\\ 
	0 & 0\\ 
	K_1 K_{pp} & 0\\ 
	0 & 0\\ 
	0 & K_3 K_{ep}
	\end{bmatrix}\\
	\vec{x}&=\begin{bmatrix}
	\lambda &
	r&
	p&
	\dot{p}&
	e&
	\dot{e}
	\end{bmatrix}^T\\
	\vec{u}&=\begin{bmatrix}
	p_c & e_c
	\end{bmatrix}^T
	\FullStop
	\end{align}
\end{subequations}
The continuous model is then converted to a time discrete model 
\begin{equation}
\vec{x}_{t+1}=\vec{A}\vec{x}_t+\vec{B}\vec{u}
\end{equation}with the forward Euler method
\begin{subequations}
	\begin{align}
	\vec{A}&=\vec{I}_{6\times6}+\vec{A}_c \Delta t\\
	\vec{B}&=\vec{B}_c\Delta t
	\end{align}
\end{subequations}
with $\Delta t$ being the sampling time. 



\begin{figure}[htbp]
	\centering
	\ProblemFourPlot{../MATLAB/Export/problem4plot_511111_11.csv}{../MATLAB/Export/problem4plots_opt.csv}
	\caption{problem4plot\_511111\_11}
	\label{fig:problem4plot_511111_11}%
\end{figure}

\begin{figure}[htbp]
	\centering
	\ProblemFourPlot{../MATLAB/Export/problem4plot_without_feedback.csv}{../MATLAB/Export/problem4plots_opt.csv}
	\caption{problem4plots\_without\_feedback}
	\label{fig:problem4plots_without_feedback}%
\end{figure}

\begin{figure}[htbp]
	\centering
	\ProblemFourPlot{../MATLAB/Export/problem4_LQR_bothconstraintsN=60.csv}{../MATLAB/Export/problem4plots_LQR_bothconstraintsN=60_opt.csv}
	\caption{LQR\_bothconstraintsN=60}
	\label{fig:LQR_bothconstraintsN=60}%
\end{figure}

\begin{figure}[htbp]
	\centering
	\ProblemFourPlot{../MATLAB/Export/problem4_LQR_onlylambdadotN=60_time_to_complete=553.53s.csv}{../MATLAB/Export/problem4plots_LQR_onlylambdadotN=60_time_to_complete=553.53s_opt.csv}
	\caption{LQR\_onlylambdadotN=60\_time\_to\_complete=553.53s}
	\label{fig:LQR_onlylambdadotN=60_time_to_complete=553.53s}%
\end{figure}

\cleardoublepage


\begin{figure}[htbp]
	\centering
	\ProblemFourPlot{../MATLAB/Export/problem4plot_101010_11.csv}{../MATLAB/Export/problem4plots_opt.csv}
	\caption{problem4plot\_101010\_11}
	\label{fig:problem4plot_101010_11}%
\end{figure}

\begin{figure}[htbp]
	\centering
	\ProblemFourPlot{../MATLAB/Export/problem4plot_111111_11.csv}{../MATLAB/Export/problem4plots_opt.csv}
	\caption{problem4plot\_111111\_11}
	\label{fig:problem4plot_111111_11}%
\end{figure}

\begin{figure}[htbp]
	\centering
	\ProblemFourPlot{../MATLAB/Export/problem4plot_211111_11.csv}{../MATLAB/Export/problem4plots_opt.csv}
	\caption{problem4plot\_211111\_11}
	\label{fig:}%
\end{figure}

\begin{figure}[htbp]
	\centering
	\ProblemFourPlot{../MATLAB/Export/problem4plot_511111_11.csv}{../MATLAB/Export/problem4plots_opt.csv}
	\caption{problem4plot\_511111\_11}
	\label{fig:problem4plot_511111_11}%
\end{figure}

\begin{figure}[htbp]
	\centering
	\ProblemFourPlot{../MATLAB/Export/problem4plot_10011111_11.csv}{../MATLAB/Export/problem4plots_opt.csv}
	\caption{problem4plot\_10011111\_11}
	\label{fig:problem4plot_10011111_11}%
\end{figure}

\begin{figure}[htbp]
	\centering
	\ProblemFourPlot{../MATLAB/Export/problem4plot_21100111_11.csv}{../MATLAB/Export/problem4plots_opt.csv}
	\caption{problem4plot\_21100111\_11}
	\label{fig:problem4plot_21100111_11}%
\end{figure}

\begin{figure}[htbp]
	\centering
	\ProblemFourPlot{../MATLAB/Export/problem4plot_100110111_11.csv}{../MATLAB/Export/problem4plots_opt.csv}
	\caption{problem4plot\_100110111\_11}
	\label{fig:problem4plot_100110111_11}%
\end{figure}

\begin{figure}[htbp]
	\centering
	\ProblemFourPlot{../MATLAB/Export/problem4plot_111111_1001.csv}{../MATLAB/Export/problem4plots_opt.csv}
	\caption{problem4plot\_111111\_1001}
	\label{fig:problem4plot_111111_1001}%
\end{figure}

\begin{figure}[htbp]
	\centering
	\ProblemFourPlot{../MATLAB/Export/problem4plot_111111_1100.csv}{../MATLAB/Export/problem4plots_opt.csv}
	\caption{problem4plot\_111111\_1100}
	\label{fig:problem4plot_111111_1100}%
\end{figure}

\begin{figure}[htbp]
	\centering
	\ProblemFourPlot{../MATLAB/Export/problem4plot_without_feedback.csv}{../MATLAB/Export/problem4plots_opt.csv}
	\caption{problem4plots\_without\_feedback}
	\label{fig:problem4plots_without_feedback}%
\end{figure}

\begin{figure}[htbp]
	\centering
	\ProblemFourPlot{../MATLAB/Export/problem4plot_111111_11_opt_ed_1_lambdad_1.csv}{../MATLAB/Export/problem4plots_opt.csv}
	\caption{problem4plot\_111111\_11\_opt\_ed\_1\_lambdad\_1}
	\label{fig:problem4plot_111111_11_opt_ed_1_lambdad_1}%
\end{figure}

\begin{figure}[htbp]
	\centering
	\ProblemFourPlot{../MATLAB/Export/problem4plot_111111_11_opt_ed_1_pd_1.csv}{../MATLAB/Export/problem4plots_opt.csv}
	\caption{problem4plot\_111111\_11\_opt\_ed\_1\_pd\_1}
	\label{fig:problem4plot_111111_11_opt_ed_1_pd_1}%
\end{figure}





\begin{figure}[htbp]
	\centering
	\ProblemFourPlot{../MATLAB/Export/problem4_NoLQR.csv}{../MATLAB/Export/problem4plots_opt.csv}
	\caption{NoLQR}
	\label{fig:NoLQR}%
\end{figure}

\begin{figure}[htbp]
	\centering
	\ProblemFourPlot{../MATLAB/Export/problem4_NoLQR_bothconstraints.csv}{../MATLAB/Export/problem4plots_bothconstraints_opt.csv}
	\caption{NoLQR\_bothconstraints}
	\label{fig:NoLQR_bothconstraints}%
\end{figure}

\begin{figure}[htbp]
	\centering
	\ProblemFourPlot{../MATLAB/Export/problem4_NoLQR_noAdditionalConstraintsN=60.csv}{../MATLAB/Export/problem4plots_opt.csv}
	\caption{NoLQR\_noAdditionalConstraintsN=60}
	\label{fig:NoLQR_noAdditionalConstraintsN=60}%
\end{figure}

\begin{figure}[htbp]
	\centering
	\ProblemFourPlot{../MATLAB/Export/problem4_NoLQR_onlyedotN=40.csv}{../MATLAB/Export/problem4plots_NoLQR_onlyedotN=40_opt.csv}
	\caption{NoLQR\_onlyedotN=40}
	\label{fig:NoLQR_onlyedotN=40}%
\end{figure}

\begin{figure}[htbp]
	\centering
	\ProblemFourPlot{../MATLAB/Export/problem4_NoLQR_onlylambdadotN=60.csv}{../MATLAB/Export/problem4plots_opt.csv}
	\caption{NoLQR\_onlylambdadotN=60}
	\label{fig:NoLQR_onlylambdadotN=60}%
\end{figure}







\clearpage

\begin{figure}[htbp]
	\centering
	\ProblemFourPlot{../MATLAB/Export/problem4_LQR_bothconstraintsN=60.csv}{../MATLAB/Export/problem4plots_LQR_bothconstraintsN=60_opt.csv}
	\caption{LQR\_bothconstraintsN=60}
	\label{fig:LQR_bothconstraintsN=60}%
\end{figure}

\begin{figure}[htbp]
	\centering
	\ProblemFourPlot{../MATLAB/Export/problem4_LQR_noadditionalN=40_active-set_t=8.0595s.csv}{../MATLAB/Export/problem4plots_LQR_noadditionalN=40_active-set_t=8.0595s_opt.csv}
	\caption{LQR\_noadditionalN=40\_active-set\_t=8.0595s}
	\label{fig:LQR_noadditionalN=40_active-set_t=8.0595s}%
\end{figure}

\begin{figure}[htbp]
	\centering
	\ProblemFourPlot{../MATLAB/Export/problem4_LQR_noadditionalN=40_sqp_t=0.33s.csv}{../MATLAB/Export/problem4plots_LQR_noadditionalN=40_sqp_t=0.33s_opt.csv}
	\caption{LQR\_noadditionalN=40\_sqp\_t=0.33s}
	\label{fig:LQR_noadditionalN=40_sqp_t=0.33s}%
\end{figure}

\begin{figure}[htbp]
	\centering
	\ProblemFourPlot{../MATLAB/Export/problem4_LQR_noadditionalN=60.csv}{../MATLAB/Export/problem4plots_LQR_noadditionalN=60_opt.csv}
	\caption{LQR\_noadditionalN=60}
	\label{fig:LQR_noadditionalN=60}%
\end{figure}

\begin{figure}[htbp]
	\centering
	\ProblemFourPlot{../MATLAB/Export/problem4_LQR_onlyedotN=40.csv}{../MATLAB/Export/problem4plots_LQR_onlyedotN=40_opt.csv}
	\caption{LQR\_onlyedotN=40}
	\label{fig:LQR_onlyedotN=40}%
\end{figure}

\begin{figure}[htbp]
	\centering
	\ProblemFourPlot{../MATLAB/Export/problem4_LQR_onlylambdadotN=60_time_to_complete=553.53s.csv}{../MATLAB/Export/problem4plots_LQR_onlylambdadotN=60_time_to_complete=553.53s_opt.csv}
	\caption{LQR\_onlylambdadotN=60\_time\_to\_complete=553.53s}
	\label{fig:LQR_onlylambdadotN=60_time_to_complete=553.53s}%
\end{figure}

\begin{figure}[htbp]
	\centering
	\ProblemFourPlot{../MATLAB/Export/problem4_LQR_onlylamdadotN=40_sqp_time=0.30s.csv}{../MATLAB/Export/problem4plots_LQR_onlylamdadotN=40_sqp_time=0.30s_opt.csv}
	\caption{LQR\_onlylamdadotN=40\_sqp\_time=0.30s}
	\label{fig:LQR_onlylamdadotN=40_sqp_time=0.30s}%
\end{figure}

\begin{figure}[htbp]
	\centering
	\ProblemFourPlot{../MATLAB/Export/problem4_LQR_onlylamdadotN=60_sqp_time=0.4186s.csv}{../MATLAB/Export/problem4plots_LQR_onlylamdadotN=60_sqp_time=0.4186s_opt.csv}
	\caption{LQR\_onlylamdadotN=60\_sqp\_time=0.4186s}
	\label{fig:LQR_onlylamdadotN=60_sqp_time=0.4186s}%
\end{figure}





\subsection{Results and Discussion}
Each of the four problems should have their own discussion of results. 

